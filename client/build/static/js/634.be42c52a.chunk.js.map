{"version":3,"file":"static/js/634.be42c52a.chunk.js","mappings":"yMA0FA,UA5EqB,WAAO,IAAD,IACzB,GAA8BA,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAQIC,EAAAA,EAAAA,IAAgBD,GARpB,eACEE,EADF,KAEEC,EAFF,KAGEC,EAHF,KAIEC,EAJF,KAKEC,EALF,KAMEC,EANF,KAOEC,EAPF,KAUA,GAAqCC,EAAAA,EAAAA,MAArC,eAAOC,EAAP,KAAsBC,EAAtB,KAEA,GAAiDC,EAAAA,EAAAA,GAC/CV,EACA,QAFMW,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,aAAcC,EAAlC,EAAkCA,WA4BlC,OAAIhB,GAAgB,SAAC,IAAD,KAElB,2BACGW,GACD,SAAC,cAAD,CAEEM,MAAO,CACLC,QAASf,EAASW,GAClBX,SAAAA,EACAC,YAAAA,EACAC,eAAAA,EACAC,YAAAA,EACAU,WAAAA,GARJ,UAWE,UAAC,KAAD,YACE,SAAC,KAAD,KACA,UAAC,KAAD,CAAMG,GAAI,CAAEC,GAAI,GAAhB,WACE,SAAC,KAAD,CACEC,mBAAoBb,EACpBc,oBAAqB,kBAAMb,GAAsB,EAA5B,EACrBc,YAAahB,EACbiB,gBA7CY,SAACC,EAAMC,GAC7BD,EAAOA,EAAKE,QAAQ,SAAUC,OAAOC,SAASC,UAC9CC,QAAQC,IAAIP,GACZ,IAAMP,EAAUe,KAAKC,MAAMC,aAAaC,QAAQ,YAC1CC,GAAiB,OAAOnB,EAAQoB,WAChCC,EAAC,OAAGb,QAAH,IAAGA,OAAH,EAAGA,EAASc,SAEnB,GAAsB,MAAlBd,EAAQe,OACVJ,EAAkBE,GAAGG,MAAQjB,MACxB,CACL,IAAMkB,EAAC,OAAGjB,QAAH,IAAGA,OAAH,EAAGA,EAASe,OACnBJ,EAAkBE,GAAGK,QAAQD,GAAGD,MAAQjB,CACzC,CACDrB,GAAY,SAACyC,GAAD,OACV,OAAIA,GAAMC,KAAI,SAACC,GACb,OAAIA,EAAIC,MAAQ9B,EAAQ8B,MACxBD,EAAIT,UAAYD,GADoBU,CAGrC,GALS,IAOZZ,aAAac,WAAW,UACzB,KA0BS,SAAC,KAAD,IACCrC,OAVL,UAAsBT,EAASW,UAA/B,aAAsB,EAAsBkC,MAX9C,UACO7C,EAASW,UADhB,aACO,EAAsBkC,KAwB5BjC,IAGN,C","sources":["pages/form/components/tab/question/QuestionsTab.jsx"],"sourcesContent":["import Grid from '@mui/material/Grid';\r\nimport React, { useState } from 'react';\r\nimport useMobileStepper from '../../../../../hooks/useMobileStepper';\r\nimport BasicFormSkeleton from '../../basic/BasicFormSkeleton';\r\nimport {\r\n  CenteredGridBox,\r\n  CreateHeaders,\r\n  DroppableSection,\r\n  ImageUploadModal,\r\n  QuestionsContext,\r\n  useFormNameAndActions,\r\n  useFormSections,\r\n} from '../index';\r\n\r\nconst QuestionsTab = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [\r\n    sections,\r\n    setSections,\r\n    expandCloseAll,\r\n    uploadImage,\r\n    imageContextData,\r\n    openUploadImagePop,\r\n    setOpenUploadImagePop,\r\n  ] = useFormSections(setLoading);\r\n\r\n  const [formNameField, formActions] = useFormNameAndActions();\r\n\r\n  const { activeStep, BasicStepper, handleBack } = useMobileStepper(\r\n    sections,\r\n    'text'\r\n  );\r\n\r\n  const updateImageLink = (link, context) => {\r\n    link = link.replace('server', window.location.hostname);\r\n    console.log(link);\r\n    const section = JSON.parse(localStorage.getItem('section'));\r\n    const optionsOfQuestion = [...section.questions];\r\n    const i = context?.question;\r\n\r\n    if (context.option == null) {\r\n      optionsOfQuestion[i].image = link;\r\n    } else {\r\n      const j = context?.option;\r\n      optionsOfQuestion[i].options[j].image = link;\r\n    }\r\n    setSections((prev) =>\r\n      [...prev].map((sec) => {\r\n        if (sec._id !== section._id) return sec;\r\n        sec.questions = optionsOfQuestion;\r\n        return sec;\r\n      })\r\n    );\r\n    localStorage.removeItem('section');\r\n  };\r\n\r\n  if (loading) return <BasicFormSkeleton />;\r\n  return (\r\n    <div>\r\n      {formNameField}\r\n      <QuestionsContext.Provider\r\n        key={sections[activeStep]?._id}\r\n        value={{\r\n          section: sections[activeStep],\r\n          sections,\r\n          setSections,\r\n          expandCloseAll,\r\n          uploadImage,\r\n          handleBack,\r\n        }}\r\n      >\r\n        <CenteredGridBox key={sections[activeStep]?._id}>\r\n          <CreateHeaders />\r\n          <Grid sx={{ pt: 1 }}>\r\n            <ImageUploadModal\r\n              handleImagePopOpen={openUploadImagePop}\r\n              handleImagePopClose={() => setOpenUploadImagePop(false)}\r\n              contextData={imageContextData}\r\n              updateImageLink={updateImageLink}\r\n            />\r\n            <DroppableSection />\r\n            {formActions}\r\n          </Grid>\r\n        </CenteredGridBox>\r\n      </QuestionsContext.Provider>\r\n      {BasicStepper}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuestionsTab;\r\n"],"names":["useState","loading","setLoading","useFormSections","sections","setSections","expandCloseAll","uploadImage","imageContextData","openUploadImagePop","setOpenUploadImagePop","useFormNameAndActions","formNameField","formActions","useMobileStepper","activeStep","BasicStepper","handleBack","value","section","sx","pt","handleImagePopOpen","handleImagePopClose","contextData","updateImageLink","link","context","replace","window","location","hostname","console","log","JSON","parse","localStorage","getItem","optionsOfQuestion","questions","i","question","option","image","j","options","prev","map","sec","_id","removeItem"],"sourceRoot":""}